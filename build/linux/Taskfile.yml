version: '3'

# Linux-specific build tasks for YANTA
# These tasks are platform-restricted to prevent accidental execution on Windows
# Use build/windows/Taskfile.yml for Windows builds

includes:
  root: ../Taskfile.yml

vars:
  APP_NAME: "yanta"

tasks:
  build:
    summary: Build Linux binary
    desc: Build native Linux binary (Linux only)
    platforms: [linux]
    cmds:
      - task: root:build
        vars:
          TARGET: ubuntu

  package:
    summary: Build Linux artifacts (tarball + Arch pkg)
    desc: Package Linux release artifacts (Linux only)
    platforms: [linux]
    cmds:
      - task: root:build
        vars:
          TARGET: arch

  run:
    summary: Run the Linux build output
    desc: Run the built Linux binary (Linux only)
    platforms: [linux]
    deps:
      - build
    cmds:
      - ./build/bin/{{.APP_NAME}}
